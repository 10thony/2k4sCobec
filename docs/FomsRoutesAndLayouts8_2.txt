================================================================================
FOMS Implementation — Task: Routes & Layout (§8.2)
================================================================================
Status: COMPLETED
Started: 2025-02-02
Reference: docs/FOMS_IMPLEMENTATION_PLAN.md §3 (Frontend Structure & Routes), §8 (Implementation Order step 2)

--------------------------------------------------------------------------------
TASK SCOPE
--------------------------------------------------------------------------------
Add FOMS routes and update root layout/nav so the 3-click rule is satisfied:
- Routes: /foms (list), /foms/new (create), /foms/:requestId (detail).
- Nav: Home (2k4sCobec), FOMS, New request in header; UserButton on right.

--------------------------------------------------------------------------------
WORK DONE
--------------------------------------------------------------------------------
1. FOMS route structure (TanStack Router file-based)
   - src/routes/foms/route.tsx: Layout for /foms; component renders <Outlet /> so child routes render inside.
   - src/routes/foms/index.tsx: FOMS list page at /foms. Placeholder content + links to /foms/new and /.
   - src/routes/foms/new.tsx: New FOMS request page at /foms/new. Placeholder + links to /foms and /.
   - src/routes/foms/$requestId.tsx: FOMS detail page at /foms/:requestId. Uses Route.useParams() for requestId; placeholder + nav links.

2. Root layout (src/routes/__root.tsx)
   - Added <nav> with Link components: "2k4sCobec" (to /), "FOMS" (to /foms), "New request" (to /foms/new).
   - Imported Link from @tanstack/react-router for client-side navigation (no full page reloads).
   - Header layout: flex with nav on left, UserButton on right; gap-4 for spacing.

3. Verification
   - bun run build: Succeeded; routeTree.gen.ts regenerated with FomsRouteRoute, FomsIndexRoute, FomsNewRoute, FomsRequestIdRoute.
   - bunx convex dev --once: Convex functions ready (no backend changes this task).

--------------------------------------------------------------------------------
LEARNINGS
--------------------------------------------------------------------------------
- TanStack Router (Start) file-based routing: A folder (foms/) with route.tsx defines the layout route for that path segment. Child files index.tsx, new.tsx, $requestId.tsx become child routes; route tree is auto-generated by the Vite plugin during build/dev.
- Layout route: createFileRoute('/foms') in route.tsx; index uses createFileRoute('/foms/'); new uses createFileRoute('/foms/new'); $requestId uses createFileRoute('/foms/$requestId'). Param name in $requestId.tsx is requestId (from file name).
- 3-click rule: From any authenticated screen, user can reach FOMS list (1), FOMS create (1), or FOMS detail (1 from list) via the header nav and in-page links. Depth from auth shell ≤ 3 clicks.
- Use Link (not <a href>) in SPA for client-side navigation and preloading.

--------------------------------------------------------------------------------
NEXT STEPS (from FOMS plan §8)
--------------------------------------------------------------------------------
3. Create flow: Build create form on foms/new.tsx with validation and createFomsRequest; redirect after success.
4. List & search/filters: Grid and cards on foms/index.tsx; listFomsRequests; search input + quick filters (date, status).
5. Detail page: Wire getFomsRequest in foms/$requestId.tsx; read-only view of all fields.
6. Approve/deny: Buttons on cards (status Requested only); denial modal; updateFomsRequestStatus.
7. Polish: FRONTENDDESIGNSKILL.MD (typography, color, motion, a11y).

================================================================================
