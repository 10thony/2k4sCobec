# Netlify build configuration for TanStack Start + Convex
# This project uses Bun (not npm). See docs/NETLIFY_DEPLOY.md for setup steps.
# Netlify uses Bun when it detects bun.lock; install and build run with bun.

[build]
  # Convex: deploy backend then build frontend (sets VITE_CONVEX_URL for production)
  command = "bunx convex deploy --cmd \"bun run build\""
  publish = "dist/client"

# TanStack Start SSR: Netlify plugin in vite.config.ts handles serverless functions.
# No additional redirects required for client-side routing; the app is SSR.
